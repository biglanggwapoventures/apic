$(document).ready(function(){$.fn.editable.defaults.ajaxOptions={type:"post"};$.fn.editable.defaults.mode="popup";$(".editable.is-select").editable({source:[{value:1,text:"Site Administrator"},{value:2,text:"Normal User"}],type:"select",url:$("tbody#user-details").attr("data-edit-url"),placement:"right",pk:function(){return $(this).closest("tr").attr("data-pk")},success:function(a){if(a.error_flag){return a.message}else{location.reload(true)}}});$(".editable").editable({url:$("tbody#user-details").attr("data-edit-url"),placement:"right",pk:function(){return $(this).closest("tr").attr("data-pk")},success:function(a){if(a.error_flag){return a.message}}});$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_minimal"});$("tbody#mod-access").on("click","a.btn-save-access",(function(){$("a.btn-save-access").popover("destroy");var a=$(this);a.toggleClass("disabled");var b={};b.user_id=a.closest("tr").find("td:first").attr("data-user-id");$(this).closest("tr").find("input.module").each(function(){if($(this).is(":checked")){b[$(this).attr("name")]=1}});$.post($("tbody#mod-access").attr("data-save-access-url"),b).done(function(c){a.toggleClass("disabled").popover({content:c.message,trigger:"focus"}).popover("show")}).fail(function(){a.toggleClass("disabled").popover({content:"Internal Server Error"}).popover("show")})}));$("input[name=ConfirmPassword]").keyup(function(){var a=$(this);a.parent().removeClass("has-error").find("span").remove();if(a.val()!==$("input[name=Password]").val()){a.parent().addClass("has-error").append('<span class="help-block">Passwords do not match!</span>')}});$("#add-user-modal form").submit(function(){$(this).find(".form-group").removeClass("has-error").find("span").remove();if($("input[name=ConfirmPassword]").val()!==$("input[name=Password]").val()){$(this).parent().addClass("has-error").append('<span class="help-block">Passwords do not match!</span>')}$.ajax({url:$(this).attr("action"),type:$(this).attr("method"),dataType:"json",data:$(this).serialize(),success:function(b){if(!b.error_flag){location.reload(true)}var a=Object.keys(b.message);$(a).each(function(c){var d=b.message[a[c]];if(d){$("[name="+a[c]+"]").parent().addClass("has-error").append('<span class="help-block">'+d+"</span>");}});},error:function(b,a){alert("Internal Server Error");}});return false;});});